<section class="snapshot-builder">
  <header>
    <h2>{{ 'snapshot.title' | t }}</h2>
    <p>{{ 'snapshot.subtitle' | t }}</p>
  </header>

  <mat-selection-list>
    <mat-list-option
      *ngFor="let song of songs$ | async"
      [selected]="(selectionState$ | async)?.has(song.id)"
      (selectionChange)="toggleSong(song)"
    >
      {{ songTitle(song) }}
    </mat-list-option>
  </mat-selection-list>

  <div class="actions">
    <button mat-stroked-button color="primary" (click)="clearSelection()">
      {{ 'snapshot.clear' | t }}
    </button>
    <div class="summary">
      <strong>{{ 'snapshot.selected' | t }}:</strong> {{ (selectedSongs$ | async)?.length || 0 }}
    </div>
  </div>
</section>
